#modal-notes {
  z-index: 2000;
}

/* .btn-open-notes {
  background-color: transparent;
  color: var(--text-color);
  box-shadow: none;
  cursor: pointer;
  border: none;
  border-bottom: 3px solid var(--border-color);
}

.btn-open-notes:hover {
  border-color: var(--primary-color);
  transform: translateY(-1px);
  transition: border-color 0.2s ease-in-out;
} */

/* Container principal do modal */
.notes-modal-container {
  background-color: var(--card-bg) !important;
  width: 90%;
  max-width: 700px !important; /* Deixei um pouco mais largo também */
  padding: 25px !important;
  border-radius: 16px !important;
  box-shadow: 0 10px 30px var(--shadow-color);
  display: flex;
  flex-direction: column;
}

/* --- ESTILOS DO EDITOR QUILL --- */

/* Barra de Ferramentas (Topo) */
.ql-toolbar {
  background-color: var(--bg-color); /* Fundo sutilmente diferente do card */
  border-color: var(--border-color) !important;
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
}

/* Área de Texto (Container) */
.ql-container {
  border-color: var(--border-color) !important;
  background-color: var(--input-bg); /* Respeita o tema (claro/escuro) */
  font-family: inherit !important;
  font-size: 16px !important;
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;

  /* --- AQUI ESTÁ O AJUSTE DE TAMANHO --- */
  /* Responsivo: 350px em notebooks ~14", cresce até 700px em monitores 22"+ */
  height: clamp(350px, 45vh, 700px) !important;
}

/* O Texto digitado em si */
.ql-editor {
  color: var(--text-color) !important; /* Texto na cor do tema */
  line-height: 1.6; /* Melhor leitura */
}

/* Scrollbar personalizada dentro do editor (opcional, fica mais bonito) */
.ql-editor::-webkit-scrollbar {
  width: 8px;
}
.ql-editor::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 4px;
}

/* --- CORREÇÃO: PLACEHOLDER (Texto "Digite aqui...") --- */
/* Força a cor do placeholder para ser legível no Dark Mode */
.ql-editor.ql-blank::before {
  color: var(--text-secondary) !important;
  font-style: italic;
  opacity: 0.7;
}

/* --- ÍCONES DA TOOLBAR (Ajuste para Dark Mode) --- */
.ql-stroke {
  stroke: var(--text-color) !important;
}
.ql-fill {
  fill: var(--text-color) !important;
}
.ql-picker {
  color: var(--text-color) !important;
}
/* Seta do dropdown de tamanho/fonte */
.ql-picker-label::before {
  color: var(--text-color) !important;
}

.filter-group #notes-check {
  display: none;
}

/* --- FONTES PERSONALIZADAS DO QUILL --- */

/* Google Fonts import */
@import url("https://fonts.googleapis.com/css2?family=Roboto&family=Open+Sans&family=Lato&family=Montserrat&family=Poppins&family=Nunito&display=swap");

/* Rótulos do dropdown de fontes */
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="serif"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="serif"]::before {
  content: "Serif";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="monospace"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="monospace"]::before {
  content: "Monospace";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="arial"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="arial"]::before {
  content: "Arial";
}

.ql-snow
  .ql-picker.ql-font
  .ql-picker-label[data-value="times-new-roman"]::before,
.ql-snow
  .ql-picker.ql-font
  .ql-picker-item[data-value="times-new-roman"]::before {
  content: "Times New Roman";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="georgia"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="georgia"]::before {
  content: "Georgia";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="verdana"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="verdana"]::before {
  content: "Verdana";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="trebuchet-ms"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="trebuchet-ms"]::before {
  content: "Trebuchet MS";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="courier-new"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="courier-new"]::before {
  content: "Courier New";
}

.ql-snow
  .ql-picker.ql-font
  .ql-picker-label[data-value="comic-sans-ms"]::before,
.ql-snow
  .ql-picker.ql-font
  .ql-picker-item[data-value="comic-sans-ms"]::before {
  content: "Comic Sans MS";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="impact"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="impact"]::before {
  content: "Impact";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="tahoma"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="tahoma"]::before {
  content: "Tahoma";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="roboto"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="roboto"]::before {
  content: "Roboto";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="open-sans"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="open-sans"]::before {
  content: "Open Sans";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="lato"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="lato"]::before {
  content: "Lato";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="montserrat"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="montserrat"]::before {
  content: "Montserrat";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="poppins"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="poppins"]::before {
  content: "Poppins";
}

.ql-snow .ql-picker.ql-font .ql-picker-label[data-value="nunito"]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="nunito"]::before {
  content: "Nunito";
}

/* Aplica as fontes também nos itens do dropdown (preview) */
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="arial"]::before {
  font-family: "Arial", sans-serif;
}
.ql-snow
  .ql-picker.ql-font
  .ql-picker-item[data-value="times-new-roman"]::before {
  font-family: "Times New Roman", serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="georgia"]::before {
  font-family: "Georgia", serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="verdana"]::before {
  font-family: "Verdana", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="trebuchet-ms"]::before {
  font-family: "Trebuchet MS", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="courier-new"]::before {
  font-family: "Courier New", monospace;
}
.ql-snow
  .ql-picker.ql-font
  .ql-picker-item[data-value="comic-sans-ms"]::before {
  font-family: "Comic Sans MS", cursive;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="impact"]::before {
  font-family: "Impact", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="tahoma"]::before {
  font-family: "Tahoma", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="roboto"]::before {
  font-family: "Roboto", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="open-sans"]::before {
  font-family: "Open Sans", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="lato"]::before {
  font-family: "Lato", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="montserrat"]::before {
  font-family: "Montserrat", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="poppins"]::before {
  font-family: "Poppins", sans-serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="nunito"]::before {
  font-family: "Nunito", sans-serif;
}

/* Aplica as fontes no conteúdo do editor */
.ql-font-arial {
  font-family: "Arial", sans-serif;
}
.ql-font-times-new-roman {
  font-family: "Times New Roman", serif;
}
.ql-font-georgia {
  font-family: "Georgia", serif;
}
.ql-font-verdana {
  font-family: "Verdana", sans-serif;
}
.ql-font-trebuchet-ms {
  font-family: "Trebuchet MS", sans-serif;
}
.ql-font-courier-new {
  font-family: "Courier New", monospace;
}
.ql-font-comic-sans-ms {
  font-family: "Comic Sans MS", cursive;
}
.ql-font-impact {
  font-family: "Impact", sans-serif;
}
.ql-font-tahoma {
  font-family: "Tahoma", sans-serif;
}
.ql-font-roboto {
  font-family: "Roboto", sans-serif;
}
.ql-font-open-sans {
  font-family: "Open Sans", sans-serif;
}
.ql-font-lato {
  font-family: "Lato", sans-serif;
}
.ql-font-montserrat {
  font-family: "Montserrat", sans-serif;
}
.ql-font-poppins {
  font-family: "Poppins", sans-serif;
}
.ql-font-nunito {
  font-family: "Nunito", sans-serif;
}

/* Estilo do dropdown de fontes para caber os nomes longos */
.ql-snow .ql-picker.ql-font {
  width: 150px;
}

.ql-snow .ql-picker.ql-font .ql-picker-options {
  max-height: 200px;
  overflow-y: auto;
}

/* --- RESPONSIVIDADE (MOBILE) --- */
@media (max-width: 600px) {
  .notes-modal-container {
    width: 85% !important;
    padding: 15px !important;
    height: 80vh;
    overflow: hidden;
  }

  /* Faz o wrapper do Quill ocupar o espaço restante sem crescer além */
  #quill-editor-container {
    flex: 1 1 0 !important;
    min-height: 0 !important;
    height: auto !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
  }

  /* Toolbar não deve encolher */
  .ql-toolbar {
    flex-shrink: 0;
  }

  /* Editor ocupa o espaço restante com scroll interno */
  .ql-container {
    flex: 1 1 0 !important;
    height: auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
  }

  /* Ajusta a barra de botões para não ocupar muito espaço */
  .manual-actions-row {
    margin-top: 10px;
    flex-shrink: 0;
  }

  /* Esconde opções menos úteis do Quill no mobile se quiser economizar espaço (opcional) */
  .ql-formats {
    margin-right: 5px !important;
  }

  .filter-group #notes-check {
    display: block;
  }
}

/* --- TABLET EM MODO RETRATO --- */
@media (min-width: 601px) and (max-width: 1024px) and (orientation: portrait) {
  .notes-modal-container {
    width: 90% !important;
    max-width: 700px !important;
    padding: 25px !important;
    height: 85vh;
    overflow: hidden;
  }

  #quill-editor-container {
    flex: 1 1 0 !important;
    min-height: 0 !important;
    height: auto !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
  }

  .ql-toolbar {
    flex-shrink: 0;
  }

  .ql-container {
    flex: 1 1 0 !important;
    height: auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
  }

  .manual-actions-row {
    flex-shrink: 0;
  }
}
