<div class="nav-header">
  <button
    id="btn-back-to-home-from-config"
    class="btn-back"
    title="Voltar para o InÃ­cio"
  >
    <svg
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <line x1="19" y1="12" x2="5" y2="12"></line>
      <polyline points="12 19 5 12 12 5"></polyline>
    </svg>
  </button>
  <h2>ConfiguraÃ§Ãµes</h2>
</div>

<p style="font-size: 14px; color: var(--text-color)">
  Adicione as matÃ©rias que deseja estudar.
</p>

<div class="add-subject-row">
  <input
    type="text"
    id="new-subject-input"
    placeholder="Nome da matÃ©ria (ex: PortuguÃªs)"
  />
  <button id="btn-save-subject" class="btn-add" title="Adicionar MatÃ©ria">
    +
  </button>
</div>

<div class="mobile-lock-container">
  <div class="lock-wrapper">
    <span class="lock-label-text">ğŸ”’ Bloquear EdiÃ§Ã£o</span>
    <label class="switch">
      <input type="checkbox" id="mobile-lock-sort" />
      <span class="slider round"></span>
    </label>
  </div>
</div>

<ul class="config-list" id="config-list"></ul>

<div class="categories-container">
  <div class="categories-header">
    <h2>Categorias de Estudo</h2>
  </div>

  <!-- CATEGORIAS FIXAS -->
  <div class="fixed-categories-section">
    <div class="section-title">Categorias Fixas</div>
    <div id="fixed-categories-list" class="categories-list"></div>
  </div>

  <!-- CATEGORIAS PERSONALIZADAS -->
  <div class="custom-categories-section">
    <div class="section-title">Categorias Personalizadas</div>
    <div id="custom-categories-list" class="categories-list"></div>

    <div class="add-category-form">
      <input
        type="text"
        id="new-category-input"
        placeholder="Nome da nova categoria..."
      />
      <button id="btn-add-category" class="add-category-btn">Adicionar</button>
    </div>
  </div>
</div>

<div
  style="
    background: var(--badge-bg);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
  "
>
  <p
    style="
      display: flex;
      font-size: 17px;
      font-weight: bold;
      margin-bottom: 10px;
      color: var(--text-color);
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 10px;
      align-items: center;
      justify-content: center;
      gap: 5px;
    "
  >
    Dias de Descanso
    <span
      class="tip-rest-icon"
      data-tooltip="NÃ£o quebra a constÃ¢ncia."
      data-tooltip-position="top"
    >
      ?
    </span>
  </p>
  <div
    style="display: flex; flex-wrap: wrap; gap: 5px; justify-content: center"
  >
    <label class="rest-day-selector"
      ><input type="checkbox" class="rest-day-check" value="0" /> Dom</label
    >
    <label class="rest-day-selector"
      ><input type="checkbox" class="rest-day-check" value="1" /> Seg</label
    >
    <label class="rest-day-selector"
      ><input type="checkbox" class="rest-day-check" value="2" /> Ter</label
    >
    <label class="rest-day-selector"
      ><input type="checkbox" class="rest-day-check" value="3" /> Qua</label
    >
    <label class="rest-day-selector"
      ><input type="checkbox" class="rest-day-check" value="4" /> Qui</label
    >
    <label class="rest-day-selector"
      ><input type="checkbox" class="rest-day-check" value="5" /> Sex</label
    >
    <label class="rest-day-selector"
      ><input type="checkbox" class="rest-day-check" value="6" /> SÃ¡b</label
    >
  </div>
  <button
    id="btn-save-rest-days"
    class="btn-sm"
    style="
      margin-top: 15px;
      margin-left: auto;
      margin-right: auto;
      display: block;
      background: var(--card-bg);
    "
  >
    Salvar Dias
  </button>
</div>
<!-- Edital Verticalizado Section -->
<div
  style="
    background: var(--badge-bg);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
  "
>
  <p
    style="
      margin-bottom: 15px;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 10px;
      align-items: center;
      justify-content: space-between;
      display: flex;
      margin-top: 0;
    "
  >
    <span
      style="display: flex; align-items: center; gap: 5px; font-weight: bold"
    >
      ğŸ“š Edital Verticalizado
      <span
        class="tip-edital-icon"
        data-tooltip="Acompanhe seu progresso nos editais"
        data-tooltip-position="top"
      >
        ?
      </span>
    </span>
    <button
      id="btn-edital-verticalizado"
      class="btn-sm"
      title="Acessar Edital Verticalizado"
      style="margin: 0; padding: 6px 12px; font-size: 12px"
    >
      Acessar
    </button>
  </p>
  <div
    id="editais-summary-container"
    style="display: flex; flex-direction: column; gap: 10px"
  >
    <!-- Renderizado dinamicamente -->
  </div>
</div>

<!-- SeÃ§Ã£o PIN de Bloqueio -->
<div class="pin-config-section">
  <div class="pin-config-header">
    <span>ğŸ” PIN de Acesso</span>
    <span id="pin-config-status" class="pin-config-status inactive"
      >Desativado</span
    >
  </div>

  <p class="pin-config-description">
    Defina um PIN de 4 dÃ­gitos para proteger o acesso ao aplicativo. Se ativado,
    serÃ¡ exigido sempre que abrir o site.
  </p>

  <div class="pin-config-form">
    <div class="pin-config-field">
      <label>PIN (4 dÃ­gitos)</label>
      <div class="pin-config-input-row">
        <input
          type="password"
          id="pin-config-input"
          maxlength="4"
          placeholder="â€¢â€¢â€¢â€¢"
          inputmode="numeric"
          pattern="[0-9]*"
          autocomplete="off"
        />
      </div>
    </div>

    <div class="pin-config-field">
      <label>Confirmar PIN</label>
      <input
        type="password"
        id="pin-config-confirm"
        maxlength="4"
        placeholder="â€¢â€¢â€¢â€¢"
        inputmode="numeric"
        pattern="[0-9]*"
        autocomplete="off"
      />
    </div>

    <p class="pin-config-questions-title">ğŸ”‘ Perguntas de RecuperaÃ§Ã£o</p>
    <p style="font-size: 12px; color: var(--text-secondary); margin-top: -5px">
      Defina respostas para recuperar o PIN caso esqueÃ§a.
    </p>

    <div class="pin-config-question-group">
      <span class="pin-question-label"
        >1. Qual o nome do seu primeiro animal de estimaÃ§Ã£o?</span
      >
      <input
        type="text"
        id="pin-recovery-q1"
        placeholder="Sua resposta..."
        autocomplete="off"
      />
    </div>

    <div class="pin-config-question-group">
      <span class="pin-question-label">2. Em qual cidade vocÃª nasceu?</span>
      <input
        type="text"
        id="pin-recovery-q2"
        placeholder="Sua resposta..."
        autocomplete="off"
      />
    </div>

    <div class="pin-config-question-group">
      <span class="pin-question-label"
        >3. Qual Ã© o nome do seu melhor amigo de infÃ¢ncia?</span
      >
      <input
        type="text"
        id="pin-recovery-q3"
        placeholder="Sua resposta..."
        autocomplete="off"
      />
    </div>

    <div class="pin-config-actions">
      <button id="btn-save-pin" class="pin-btn-save">Salvar PIN</button>
      <button id="btn-remove-pin" class="pin-btn-remove" style="display: none">
        Remover PIN
      </button>
    </div>
  </div>
</div>

<div style="display: flex; gap: 10px; margin-bottom: 20px">
  <button
    id="btn-clear-config"
    class="btn-sm btn-danger-text"
    title="reseta as configuraÃ§Ãµes da pagina de configurar fluxo"
  >
    Resetar ConfiguraÃ§Ãµes
  </button>
  <button
    id="btn-clear-floating"
    class="btn-sm btn-danger-text"
    title="reseta a posiÃ§Ã£o do botÃ£o flutuante da pagina inicial."
  >
    Resetar a PosiÃ§Ã£o do BotÃ£o Flutuante
  </button>
</div>

<div
  class="table-actions"
  style="
    background: var(--badge-bg);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 10px;
    margin-top: 10px;
  "
>
  <h3 style="font-weight: bold; margin: 10px; color: var(--text-color)">
    ğŸ“¦ Dados e Backup Local
  </h3>
  <span
    class="tip-strike-icon"
    data-tooltip="FaÃ§a o backup antes de limpar os dados de navegaÃ§Ã£o 
            ou caso queira mudar de navegador."
    data-tooltip-position="top"
  >
    ?
  </span>
  <p style="font-size: 13px; color: var(--text-color); margin-bottom: 15px">
    Gere um arquivo Ãºnico contendo todo o seu histÃ³rico e configuraÃ§Ãµes para
    salvar ou transferir para outro Celular / Dispositivo.
  </p>
  <div style="display: flex; flex-wrap: wrap; gap: 8px">
    <button id="btn-make-backup" class="btn-sm">
      <span>ğŸ’¾</span> Fazer Backup Local
    </button>
    <button
      id="btn-restore-backup"
      class="btn-sm"
      title="Use o mesmo formato do arquivo de exportaÃ§Ã£o"
    >
      <span>ğŸ“¥</span> Restaurar Backup
    </button>
    <input
      type="file"
      id="backup-upload"
      style="display: none"
      accept=".json, .gz, .estudos, application/json, application/gzip, text/plain"
    />
  </div>
  <small
    id="last-backup-display"
    style="
      display: block;
      margin-top: 8px;
      color: var(--text-secondary);
      font-size: 12px;
    "
  >
    Ãšltimo backup: Nunca realizado
  </small>

  <p
    style="
      font-size: 11px;
      color: #ff331e;
      margin-top: 10px;
      text-align: justify;
    "
  >
    Nota: Restaurar um backup substituirÃ¡ seus dados atuais, todos os dados
    ficam salvo localmente no seu navegador.
  </p>
</div>
