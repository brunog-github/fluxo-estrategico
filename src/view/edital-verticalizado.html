<div
  class="nav-header"
  style="
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
  "
>
  <div style="display: flex; align-items: center; gap: 10px">
    <button
      id="btn-back-to-home-from-edital"
      class="btn-back"
      title="Voltar para o Início"
    >
      <svg
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="19" y1="12" x2="5" y2="12"></line>
        <polyline points="12 19 5 12 12 5"></polyline>
      </svg>
    </button>
    <h2 class="edital-title">Edital</h2>
  </div>
</div>

<div
  class="edital-header-actions"
  style="
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: end;
    margin-bottom: 15px;
  "
>
  <button
    id="btn-simulados-salvos"
    class="btn-screen-simulado btn-info-simulado"
  >
    Lista de Simulados
  </button>
  <button
    id="btn-adicionar-simulado"
    class="btn btn-success"
    style="display: none"
  >
    Simulado
  </button>
  <button id="btn-adicionar-edital" class="btn btn-success">Adicionar</button>

  <div class="edital-selector-wrapper">
    <div class="edital-selector-container">
      <select id="edital-selector" class="edital-selector">
        <option value="">Selecione um edital...</option>
      </select>
      <i class="fa-solid fa-chevron-down edital-selector-arrow"></i>
    </div>
    <button
      id="btn-editar-edital"
      class="btn-edit-edital"
      title="Editar este edital"
      style="display: none"
    >
      <i class="fa-solid fa-pen-to-square"></i>
    </button>
    <button
      id="btn-deletar-edital"
      class="btn-delete-edital"
      title="Deletar este edital"
    >
      ✕
    </button>
  </div>
</div>

<div class="edital-container">
  <!-- Progressbar Geral -->
  <div
    class="edital-progress-section"
    id="edital-progress-container"
    style="display: none"
  >
    <div class="progress-header">
      <h3>PROGRESSO NO EDITAL</h3>
      <span id="edital-progress-text" class="progress-text"
        >0 de 0 tópicos concluídos</span
      >
    </div>
    <div class="progress-bar-wrapper">
      <div id="edital-progress-bar" class="progress-bar">
        <div id="edital-progress-fill" class="progress-fill"></div>
      </div>
      <span id="edital-progress-percent" class="progress-percent">0%</span>
    </div>
  </div>

  <!-- Lista de Matérias e Tópicos -->
  <div class="edital-subjects-list" id="edital-subjects-list">
    <!-- Renderizado dinamicamente -->
  </div>
</div>

<!-- Modal Adicionar/Editar Edital -->
<div id="modal-adicionar-edital" class="modal hidden">
  <div class="modal-content card-elevated edital-modal-container">
    <h3 class="edital-modal-title" id="modal-title">Novo Edital</h3>

    <form id="form-adicionar-edital">
      <input type="hidden" id="edital-edit-id" value="" />
      <div class="edital-field-group">
        <label class="edital-label">Nome do Edital</label>
        <input
          type="text"
          id="input-nome-edital"
          class="edital-input"
          placeholder="Ex: TJ-SP, OAB, Magistratura..."
          required
        />
      </div>

      <div class="edital-field-group">
        <label class="edital-label">Matérias</label>
        <div class="edital-materias-list" id="edital-materias-list"></div>

        <div class="edital-add-materia-form">
          <input
            type="text"
            id="input-nome-materia"
            class="edital-input"
            placeholder="Ex: Português, Direito Penal..."
          />
          <button
            type="button"
            id="btn-adicionar-materia"
            class="btn-add-materia"
          >
            + Matéria
          </button>
        </div>
      </div>

      <div style="display: flex; gap: 10px; margin-top: 20px">
        <button
          type="button"
          id="btn-cancelar-edital"
          class="btn btn-outline"
          style="flex: 1"
        >
          Cancelar
        </button>
        <button type="submit" class="btn" style="flex: 1">Criar Edital</button>
      </div>
    </form>
  </div>
</div>

<!-- Modal Simulado -->
<div class="modal-overlay-simulado" id="modalOverlaySimulado">
  <div class="modal-content" id="modalContentSimulado">
    <div class="modal-header">
      <h2>Novo Simulado</h2>
      <i class="fas fa-times close-icon" id="btn-fechar-simulado"></i>
    </div>

    <div class="form-row" id="simuladoFormRow">
      <div class="input-group">
        <label>Data</label>
        <input type="date" class="mat-input" id="dataSimulado" />
      </div>
      <div class="input-group">
        <label>Nome</label>
        <input
          type="text"
          class="mat-input"
          placeholder="Nome do Simulado"
          id="nomeSimulado"
        />
      </div>
      <div class="input-group">
        <label>Banca</label>
        <input
          type="text"
          class="mat-input"
          id="bancaSimulado"
          placeholder="Ex: Vunesp"
        />
      </div>
      <div class="input-group">
        <label>Tempo Gasto</label>
        <input
          type="text"
          class="mat-input"
          id="tempoGasto"
          placeholder="00:00:00"
          maxlength="8"
          required
        />
      </div>
    </div>

    <div class="table-container">
      <table class="simulado-table">
        <thead>
          <tr>
            <th class="th-left">Disciplina</th>
            <th style="width: 60px">Peso</th>
            <th style="width: 80px">
              <i class="fas fa-edit header-icon"></i>
            </th>
            <th style="width: 80px">
              <i class="fas fa-check header-icon icon-check"></i>
            </th>
            <th style="width: 80px">
              <i class="fas fa-times header-icon icon-times"></i>
            </th>
            <th style="width: 80px">
              <i class="fas fa-file-alt header-icon"></i>
            </th>
            <th style="width: 80px">
              <i class="fas fa-percent header-icon"></i>
            </th>
            <th style="width: 40px"></th>
          </tr>
        </thead>
        <tbody id="disciplinasBody"></tbody>
      </table>
    </div>

    <div class="results-bar">
      <div
        style="
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 5px;
        "
      >
        <span>&nbsp;</span>
        <span class="results-label">RESULTADO:</span>
      </div>

      <div class="result-item-wrapper">
        <span class="result-item-label">Total</span>
        <div class="result-item result-total" id="totalQuestoes">0</div>
      </div>
      <div class="result-item-wrapper">
        <span class="result-item-label">Certas</span>
        <div class="result-item result-correct" id="totalCertas">0</div>
      </div>
      <div class="result-item-wrapper">
        <span class="result-item-label">Erradas</span>
        <div class="result-item result-wrong" id="totalErradas">0</div>
      </div>
      <div class="result-item-wrapper">
        <span class="result-item-label">Pontos</span>
        <div class="result-item result-points" id="totalPontos">0</div>
      </div>
      <div class="result-item-wrapper">
        <span class="result-item-label">%</span>
        <div class="result-item">
          <span class="result-percent" id="totalPorcentagem">0</span>
        </div>
      </div>
    </div>

    <div class="comments-section">
      <label>Comentários</label>
      <textarea class="comments-input" id="comentarios"></textarea>
    </div>

    <div class="modal-footer">
      <div class="right-buttons">
        <button class="btn btn-outline" id="btnCancelarSimulado">
          Cancelar
        </button>
        <button class="btn btn-solid active-save" id="btnSalvarSimulado">
          Salvar
        </button>
      </div>
    </div>
  </div>
</div>
