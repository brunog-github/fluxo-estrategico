<div class="nav-header">
  <button
    id="btn-back-to-home-from-reports"
    class="btn-back"
    title="Voltar para o In√≠cio"
  >
    <svg
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <line x1="19" y1="12" x2="5" y2="12"></line>
      <polyline points="12 19 5 12 12 5"></polyline>
    </svg>
  </button>
  <h2>Relat√≥rios</h2>
</div>

<div class="lifetime-stats-card">
  <div class="stats-details">
    <h4
      style="
        margin: 0 0 15px 0;
        color: var(--text-color);
        font-weight: 700;
        letter-spacing: 1px;
        font-size: 0.8rem;
      "
    >
      TEMPO DE ESTUDO
    </h4>

    <div class="stat-row">
      <strong id="life-avg-time">0h00min</strong>
      <span class="stat-label"> por dia estudado (m√©dia)</span>
    </div>

    <div class="stat-row">
      <strong id="life-days-studied">0 dias</strong>
      <span class="stat-label"> estudados</span>
    </div>

    <div class="stat-row">
      <strong id="life-days-total">0 dias</strong>
      <span class="stat-label"> totais (desde o in√≠cio)</span>
    </div>
  </div>

  <div class="stats-total-big">
    <span id="life-total-time">0h00min</span>
  </div>
</div>

<div
  style="
    border: 1px solid var(--border-color);
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
  "
>
  <p
    style="
      margin-bottom: 15px;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 10px;
      align-items: center;
      justify-content: space-between;
      display: flex;
      margin-top: 0;
    "
  >
    <span
      style="display: flex; align-items: center; gap: 5px; font-weight: bold"
    >
      üìö Edital Verticalizado
      <span
        class="tip-edital-icon"
        data-tooltip="Acompanhe seu progresso nos editais"
        data-tooltip-position="top"
      >
        ?
      </span>
    </span>
    <button
      id="btn-edital-verticalizado-reports"
      class="btn-sm"
      title="Acessar Edital Verticalizado"
      style="margin: 0; padding: 6px 12px; font-size: 12px"
    >
      Acessar
    </button>
  </p>
  <div
    id="editais-summary-container-reports"
    style="display: flex; flex-direction: column; gap: 10px"
  >
    <!-- Renderizado dinamicamente -->
  </div>
</div>

<div
  style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px"
>
  <div id="chart-subjects" class="cycle-card chart-scroll-container">
    <h4>Desempenho por Mat√©ria</h4>
    <canvas id="chart-performance"></canvas>
  </div>

  <div
    id="rotate-tip"
    style="
      text-align: center;
      margin-bottom: 15px;
      font-size: 14px;
      color: #888;
      display: none;
    "
  >
    <span style="font-size: 1.5em; vertical-align: middle; margin-right: 5px"
      >üì±‚ü≥</span
    >
    Gire o celular para melhor visualiza√ß√£o do gr√°fico.
  </div>

  <div class="cycle-card">
    <h4>Tempo Total por Mat√©ria (Horas)</h4>

    <!-- Filtros de per√≠odo -->
    <div
      style="
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-bottom: 15px;
        flex-wrap: wrap;
      "
    >
      <button
        class="btn-time-filter"
        data-filter="today"
        style="
          padding: 6px 12px;
          border-radius: 20px;
          border: 1px solid var(--primary-color);
          background: transparent;
          color: var(--primary-color);
          cursor: pointer;
          font-size: 12px;
          font-weight: 500;
        "
      >
        Hoje
      </button>
      <button
        class="btn-time-filter"
        data-filter="week"
        style="
          padding: 6px 12px;
          border-radius: 20px;
          border: 1px solid var(--primary-color);
          background: transparent;
          color: var(--primary-color);
          cursor: pointer;
          font-size: 12px;
          font-weight: 500;
        "
      >
        Semana
      </button>
      <button
        class="btn-time-filter"
        data-filter="month"
        style="
          padding: 6px 12px;
          border-radius: 20px;
          border: 1px solid var(--primary-color);
          background: transparent;
          color: var(--primary-color);
          cursor: pointer;
          font-size: 12px;
          font-weight: 500;
        "
      >
        M√™s
      </button>
      <button
        class="btn-time-filter active"
        data-filter="all"
        style="
          padding: 6px 12px;
          border-radius: 20px;
          border: 1px solid var(--primary-color);
          background: var(--primary-color);
          color: white;
          cursor: pointer;
          font-size: 12px;
          font-weight: 500;
        "
      >
        Total
      </button>
    </div>

    <h2
      id="chart-time-total"
      style="
        text-align: center;
        margin: 10px 0;
        font-size: 1.5rem;
        color: var(--text-color);
      "
    >
      0h 00min
    </h2>

    <div
      style="
        position: relative;
        height: 40vh;
        max-height: 500px;
        width: 100%;
        max-width: 500px;
        margin: 0 auto;
        display: flex;
        justify-content: center;
        align-items: center;
      "
      id="chart-time-container"
    >
      <canvas id="chart-time"></canvas>
    </div>
  </div>
</div>

<div
  style="
    display: flex;
    justify-content: center;
    margin-top: 20px;
    margin-bottom: 30px;
  "
>
  <button
    id="btn-detailed-view"
    class="btn-modern-small"
    style="background: var(--primary-color); color: white; border: none"
  >
    üìä Visualiza√ß√£o Detalhada
  </button>
</div>

<div
  style="
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    margin-top: 30px;
  "
>
  <div style="margin: 0; display: flex; align-items: center; gap: 8px">
    <h3>üìú Hist√≥rico</h3>
    <span
      class="tip-history-icon"
      data-tooltip="Lista todos os registros, 
                  os filtros afetam a tabela e o sum√°rio acima."
      data-tooltip-position="top"
      >?</span
    >
  </div>
  <button id="btn-add-manual-entry" class="btn-modern-small">
    + Novo Registro
  </button>
</div>

<div class="filters-container card-inset">
  <div class="filter-group">
    <label for="filter-subject">Mat√©ria</label>
    <select id="filter-subject" class="input-filter">
      <option value="">Todas</option>
    </select>
  </div>

  <div class="filter-group">
    <label for="filter-category">Categoria</label>
    <select id="filter-category" class="input-filter">
      <option value="">Todas</option>
    </select>
  </div>

  <div class="filter-group">
    <label for="filter-start">De</label>
    <input type="date" id="filter-start" class="input-filter" />
  </div>

  <div class="filter-group">
    <label for="filter-end">At√©</label>
    <input type="date" id="filter-end" class="input-filter" />
  </div>

  <div class="filter-group">
    <label>&nbsp;</label>
    <button id="btn-clear-filter-history" class="btn-filter-reset">
      Limpar Filtros
    </button>
  </div>

  <div class="filter-group">
    <label id="notes-check">&nbsp;</label>
    <label
      style="
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        width: fit-content;
      "
    >
      <input
        type="checkbox"
        id="filter-has-notes"
        style="width: 18px; height: 18px; cursor: pointer"
      />
      <span>Com anota√ß√µes</span>
    </label>
  </div>
</div>

<div class="table-container">
  <table id="history-table">
    <thead>
      <tr>
        <th>N¬∫</th>
        <th>Data</th>
        <th>Mat√©ria</th>
        <th>Tempo</th>
        <th>Quest√µes</th>
        <th>Acertos</th>
        <th>Erros</th>
        <th>Desempenho</th>
        <th>Categoria</th>
        <th>Edi√ß√£o</th>
      </tr>
    </thead>
    <tbody id="history-list"></tbody>
  </table>
  <p
    id="empty-history-msg"
    style="display: none; color: var(--text-color); font-size: 14px"
  >
    Nenhum registro ainda.
  </p>
</div>

<div class="table-actions">
  <div style="display: flex; gap: 8px"></div>

  <button id="btn-clean-all-history" class="btn-sm btn-danger-text">
    <i class="fa-regular fa-trash-can"></i> Limpar tudo
  </button>
</div>

<!-- Modal de Visualiza√ß√£o Detalhada -->
<div id="detailed-view-modal" class="detailed-view-modal hidden">
  <div class="detailed-view-container">
    <div class="detailed-view-header">
      <h2>Desempenho Detalhado por Disciplina</h2>
      <button id="btn-close-detailed-view" class="btn-close-modal">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div class="detailed-view-content">
      <div class="detailed-table-wrapper">
        <table id="detailed-subjects-table" class="detailed-subjects-table">
          <thead>
            <tr>
              <th style="text-align: center">Disciplinas</th>
              <th style="text-align: center">Tempo</th>
              <th style="color: #2ecc71; text-align: center">‚úì</th>
              <th style="color: #ff5252; text-align: center">‚úó</th>
              <th style="text-align: center">üìù</th>
              <th style="text-align: center">
                <i class="fa-solid fa-percent"></i>
              </th>
            </tr>
          </thead>
          <tbody id="detailed-subjects-body">
            <!-- Preenchido dinamicamente -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
